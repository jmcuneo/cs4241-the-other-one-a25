<!DOCTYPE html>
<html>
    <head>
        <title>Canvas ICE04</title>
    </head>
    <body>
        <button id="generate" onclick="generate()">Generate!</button>
        <input type="text" id="num">
        <canvas id="canvas" width="1000" height="700" style="border:1px solid #000000;"></canvas>
        <script>
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            
            //ctx.fillStyle = "#FF0000";
            //ctx.fillRect(0,0,150,75);

            function generate(){
                ctx.clearRect(0,0,canvas.width,canvas.height);
                let num = parseInt(document.querySelector("#num").value);

                ctx.fillStyle = "#" + Math.floor(Math.random()*16777215).toString(16)
                ctx.fillRect(0,0,canvas.width, canvas.height);

                for (let i = 0; i < num; i++){
                    let color = Math.floor(Math.random()*16777215).toString(16);
                    ctx.fillStyle = "#" + color;

                    let shape = Math.floor(Math.random() * 3);
                    if(shape === 0){
                        let x = Math.floor(Math.random() * canvas.width);
                        let y = Math.floor(Math.random() * canvas.height);
                        let width = Math.floor(Math.random() * (canvas.width / 2));
                        let height = Math.floor(Math.random() * (canvas.height/2));
                        ctx.fillRect(x, y, width, height);
                    }
                    else if(shape === 1){
                        ctx.beginPath();
                        let x = Math.floor(Math.random() * canvas.width);
                        let y = Math.floor(Math.random() * canvas.height);
                        let radius = Math.floor(Math.random() * 300);
                        let startAngle = Math.floor(Math.random() * Math.PI);
                        let endAngle = Math.floor(Math.random() * Math.PI + startAngle);
                        let clockwise = Math.floor(Math.random() * 2) === 1 ? false : true;
                        ctx.arc(x, y, radius, startAngle, endAngle, clockwise);
                        ctx.fill()
                    }
                    else if(shape === 2){
                        const numSides = Math.floor((Math.random() * 5) + 1);
                        const lineWidth = Math.floor((Math.random() * 30 ) + 5);
                        let a = Math.floor(Math.random() * canvas.width);
                        let b = Math.floor(Math.random() * canvas.height);
                        ctx.beginPath();
                        ctx.moveTo(a, b);
                        for (let i = 0; i < numSides; i++){
                            let x = Math.floor(Math.random() * canvas.width);
                            let y = Math.floor(Math.random() * canvas.height);
                            ctx.lineWidth = lineWidth;
                            ctx.lineTo(x, y);
                            ctx.strokeStyle = "#" + (Math.floor(Math.random()*16777215).toString(16));
                            ctx.stroke();
                            ctx.beginPath();
                            ctx.moveTo(x, y);
                        }
                        ctx.closePath();
                    }
                }
            }
        </script>
    </body>
</html>